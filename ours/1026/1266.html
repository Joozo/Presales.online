<!DOCTYPE html> <html lang="en-gb" dir="ltr"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>售前在线 微网通联 | 知识库</title> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <meta name="format-detection" content="telephone=no" /> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <meta content="always" name="referrer"> <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" /> <link rel="shortcut icon" type="image/png" href="/image/favicon.png"> <link rel="icon" sizes="any" mask href="/images/favicon.svg"> <link rel="stylesheet" href="/css/main.css" /> <link rel="stylesheet" href="/css/jo.css" /> <script src="/js/uikit.min.js"></script> </head> <body> <header class="uk-background-primary uk-background-norepeat uk-background-cover uk-background-center-center uk-light" style="background: url(/images/section-background.svg) 50% no-repeat,linear-gradient(to right, #2196f3, #f44336) 0 0 no-repeat;">
    <nav class="uk-navbar-container">
        <div class="uk-container">
            <div data-uk-navbar>
                <div class="uk-navbar-left"> <a class="uk-navbar-item uk-logo uk-visible@m" href="/">PreSales.Online</a> </div>
                <div class="uk-navbar-center uk-hidden@m"> <a class="uk-navbar-item uk-logo" href="/">PreSales.Online</a> </div>
                <div class="uk-navbar-right">
                    <ul class="uk-navbar-nav uk-visible@m">
                        <li>
                                    <a href="/index.html">首页</a>
                                </li>
                        
                            <li>
                                        <a href="/download/index.html">下载</a>
                                    </li>
                        
                            <li>
                                        <a href="/qa/index.html">产品QA</a>
                                    </li>
                        
                            <li>
                                        <a href="/changelog/index.html">ChangeLog</a>
                                    </li>
                        
                            <li>
                                        <a href="/hao/index.html">网址导航</a>
                                    </li>
                        
                        <div class="uk-navbar-item"> <a class="uk-button uk-button-small uk-button-primary-outline" href="http://presalesonline.mikecrm.com/7IAj0Rv" target="_blank">联系我们</a> </div>
                    </ul> <a class="uk-navbar-toggle uk-hidden@m" href="#offcanvas" data-uk-toggle><span data-uk-navbar-toggle-icon></span> <span class="uk-margin-small-left">Menu</span></a>
                </div>
            </div>
        </div>
    </nav>
    <div class="uk-section uk-section-small uk-section-hero uk-position-relative uk-visible@s" data-uk-scrollspy="cls: uk-animation-slide-bottom-medium; repeat: true">
                <div class="uk-container">
                    <div class="hero-search uk-margin-medium-top">
                        <form class="uk-search uk-search-default uk-width-1-1" name="search-hero" onsubmit="return false;"> <span data-uk-search-icon="ratio: 1.2"></span> <input id="search-hero" class="uk-search-input uk-form-large uk-border-rounded" type="search" placeholder="在这里输入你的问题关键字" autocomplete="off" data-minchars="1" data-maxitems="30"> </form>
                    </div>
                </div>
            </div>
</header> <div class="uk-section uk-section-muted"> <div class="uk-container"> <ul class="uk-breadcrumb uk-margin-medium-top-"> <a href="/index.html" separator="&amp;nbsp;" iscontainself="false">首页</a>&nbsp;<a href="/ours/index.html" separator="&amp;nbsp;" iscontainself="false">我们</a>&nbsp;<a href="/ours/fanfan.html" separator="&amp;nbsp;" iscontainself="false">樊尧</a>&nbsp; </ul> <div class="uk-background-default uk-border-rounded uk-box-shadow-small"> <div class="uk-container"> <article class="uk-article"> <div class="uk-height-large uk-background-cover uk-overflow-hidden uk-light uk-flex uk-flex-top" style="background-image: url('/upload/images/2020/7/c2b45edb49d7e1c2.png');"> <div class="uk-width-1-2@m uk-text-center uk-margin-auto uk-margin-auto-vertical"> <h1 uk-parallax="opacity: 0,1; y: -100,0; scale: 2,1; viewport: 0.5;">消息队列那些事儿</h1> <p uk-parallax="opacity: 0,1; y: 100,0; scale: 0.5,1; viewport: 0.5;">消息队列就是基础数据结构中的“先进先出”的一种数据机构。想一下，生活中买东西，需要排队，先排的人先买消费，就是典型的“先进先出”。那常用的消息队列有哪些呢？下面我们一一介绍。</p> </div> </div> <div class="uk-padding-large"> <h1 class="uk-article-title">消息队列那些事儿</h1> <p class="uk-article-meta">添加日期：2020-07-28 </p> <div class="uk-article-content jo-contents"><p><a name="_GoBack"></a>MQ简介：</p><p>MQ（Message queue）消息队列，就是指保存消息的一个容器。是基础数据结构中“先进先出”的一种数据结构。一般用来解决应用解耦，异步消息，流量削锋等问题，实现高性能，高可用，可伸缩和最终一致性架构。具体的特点后文会做详细的介绍。</p><p>现在常用的MQ组件有ActiveMQ、RabbitMQ、RocketMQ、ZeroMQ、MetaMQ，当然近年来火热的kafka,从某些场景来说，也是MQ，当然kafka的功能更加强大，虽然不同的MQ都有自己的特点和优势，但是，不管是哪种MQ，都有MQ本身自带的一些特点，以下是MQ的特点：</p><ul class=" list-paddingleft-2" style="list-style-type: square;"><li><p>先进先出</p></li></ul><p>不能先进先出，都不能说是队列了。消息队列的顺序在入队的时候就基本已经确定了，一般是不需人工干预的。而且，最重要的是，数据是只有一条数据在使用中。这也是MQ在诸多场景被使用的原因。</p><ul class=" list-paddingleft-2" style="list-style-type: square;"><li><p>发布订阅</p></li></ul><p>发布订阅是一种很高效的处理方式，如果不发生阻塞，基本可以当做是同步操作。这种处理方式能非常有效的提升服务器利用率，这样的应用场景非常广泛。</p><ul class=" list-paddingleft-2" style="list-style-type: square;"><li><p>持久化</p></li></ul><p>持久化确保MQ的使用不只是一个部分场景的辅助工具，而是让MQ能像数据库一样存储核心的数据。</p><ul class=" list-paddingleft-2" style="list-style-type: square;"><li><p>分布式</p></li></ul><p>在现在大流量、大数据的使用场景下，只支持单体应用的服务器软件基本是无法使用的，支持分布式的部署，才能被广泛使用。而且，MQ的定位就是一个高性能的中间件。</p><p>Active MQ</p><p>优点：</p><p>　　1.Apache下的一个子项目，非常成熟，功能强大，在早些年业内大量的公司以及项目都有应用。</p><p>　　2.偶尔会有较低概率丢失消息</p><p>　　3.现在社区以及国内应用都越来越少，官方社区维护越来越少，几个月才发布一个版本。</p><p>总结：主要是基于解耦和异步来用的，较少在大规模吞吐的场景中使用。</p><p>Rabbit MQ</p><p>RabbitMQ是一个在AMQP高级消息队列协议上实现的，可以复用的企业消息系统，他可以用于大型软件系统各个模块之间的高效通信，支持多种客户端，支持AJAX，持久化，用于在分布式系统中存储转发消息，在易用性，扩展性，高可用性等方面表现不俗。</p><p>RabbitMQ是使用Erlang编写的一个开源的消息队列，本身支持很多的协议：AMQP，XMPP，SMTP，STOMP，也正因为如何，使的他变的非常重量级，更适用于企业级的开发。</p><p>优点：</p><p>　　1.基于erlang开发，所以并发能力很强，性能极其好，延时很低，高可用性</p><p>　　2.单机吞吐量到万级，MQ功能比较完备。</p><p>　　3.开源提供的管理界面非常棒，用起来很好用。</p><p>　　4.社区相对比较活跃，几乎每个月发布几个版本。</p><p>　　5.插件机制，多语言客户端。</p><p>　　6.多种协议，灵活的路由</p><p>总结：在国内一些互联网公司近几年RabbitMQ也比较多一些，但是问题是显而易见的，RabbitMQ确实吞吐量会低一些，这是因为他做的实现机制比较重。由于使用的是erlang开发，很难去看懂源码，基本职能依赖于开源社区的快速维护和修复bug,很难定制和掌控，但比kafka可靠。</p><p>RocketMQ</p><p>优点：</p><p>　　1.阿里系下开源的一款分布式，队列模型的消息中间件，性能非常好，高并发，高吞吐量，分布式扩展也很方便，社区维护也还可以，可靠性和可用性都是OK的，还可以支撑大规模的topic数量，支持复杂的MQ业务场景。</p><p>　　2.能够保证严格的消息顺序，提供针对消息的过滤功能。</p><p>　　3.提供丰富的消息拉取模式，高效的订阅者水平扩展能力，实时的消息订阅机制</p><p>　　4.接口简单易用，经过参数优化配置，消息可以做到0丢失，单机吞吐量可以达到十万级别，亿级消息堆积能力。</p><p>　　5.最大优势在于，源码是java，我们可以阅读源码，定制自己公司的MQ，可以掌控。</p><p>　　6.topic可以达到几百，几千个的级别，吞吐量会有小幅度的下降，可支持大量topic是一大优势，多用于交易，充值，流计算，消息推送，日志流式处理等场景。</p><p>　　7.社区活跃度相对较为一般，不过也还可以，文档相对来说简单一些，然后接口这块不是按照JMS规范走的，有些系统迁移需要修改大量代码，需要由自己的维护团队。</p><p>ZeroMQ</p><p>号称最快的消息队列系统，专门为高吞吐量/低延迟的场景开发，在金融界的应用中经常使用，偏重于实时数据通信场景，ZMQ能够实现RabbitMQ不擅长的高级/复杂的队列，但是开发人员需要自己组合多种技术框架，开发成本高，而且ZeroMQ仅提供非持久性的队列，如果宕机，数据会丢失。</p><p>优点：</p><p>　　1.无所的队列模型，采用无所的队列算法CAS：在pipe的两端注册有异步时间，在读或者写消息pipe的时，会自动触发读写事件。</p><p>　　2.批量处理的算法，对于批量的消息，进行了适应性的优化，可以批量的接受和发送消息。</p><p>　　3.多核下的线程绑定，无需CPU切换，ZeroMQ充分利用多核的优势，每个核绑定运行一个工作者线程，避免多线程之间CPU切换开销。</p><p>Kafka</p><p>Kafka是最初由Linkedin公司开发，是一个分布式、支持分区的（partition）、多副本的（replica），基于zookeeper协调的分布式消息系统，它的最大的特性就是可以实时的处理大量数据以满足各种需求场景：比如基于hadoop的批处理系统、低延迟的实时系统、storm/Spark流式处理引擎，web/nginx日志、访问日志，消息服务等等，用scala语言编写，Linkedin于2010年贡献给了Apache基金会并成为顶级开源 项目。</p><p>优点：</p><p>　　1.高吞吐量、低延迟：kafka每秒可以处理几十万条消息，它的延迟最低只有几毫秒，每个topic可以分多个partition, consumer group 对partition进行consume操作。</p><p>　　2.可扩展性：kafka集群支持热扩展</p><p>　　3.可用性：Kafka是分布式的，一个数据多个副本，少数机器宕机，不会丢失数据，不会导致不可用。</p><p>　　4.持久性、可靠性：消息被持久化到本地磁盘，并且支持数据备份防止数据丢失</p><p>　　5.容错性：允许集群中节点失败（若副本数量为n,则允许n-1个节点失败）</p><p>　　6.高并发：支持数千个客户端同时读写</p><p>使用场景：</p><p>　　1.日志收集：一个公司可以用Kafka可以收集各种服务的log，通过kafka以统一接口服务的方式开放给各种consumer，例如hadoop、Hbase、Solr等。</p><p>　　2.消息系统：解耦和生产者和消费者、缓存消息等。</p><p>　　3.用户活动跟踪：Kafka经常被用来记录web用户或者app用户的各种活动，如浏览网页、搜索、点击等活动，这些活动信息被各个服务器发布到kafka的topic中，然后订阅者通过订阅这些topic来做实时的监控分析，或者装载到hadoop、数据仓库中做离线分析和挖掘。</p><p>　　4.Kafka也经常用来记录运营监控数据。包括收集各种分布式应用的数据，生产各种操作的集中反馈，比如报警和报告。</p><p>总结：kafka的特点很明显，就是仅仅提供较少的核心功能，但是提供超高的吞吐量，极高的可用性以及可靠性，而且分布式可以任意扩展。同时kafak最好支撑较少topic数量即可，保证其超高吞吐量。唯一的劣势是可能消息重复消费，那么对数据准确性会造成极其轻微的影响，在大数据领域中以及日志采集中，这点轻微影响可以忽略。</p><p><br/></p></div> </div> </article> </div> </div> </div> </div> <div id="offcanvas" data-uk-offcanvas="flip: true; overlay: true"> <div class="uk-offcanvas-bar"> <a class="uk-logo" href="">PreSales.Online</a> <button class="uk-offcanvas-close" type="button" data-uk-close></button> <ul class="uk-nav uk-nav-primary uk-nav-offcanvas uk-margin-top uk-text-center"> <li> <a href="/index.html">首页</a> </li>  <li> <a href="/download/index.html">下载</a> </li>  <li> <a href="/qa/index.html">产品QA</a> </li>  <li> <a href="/changelog/index.html">ChangeLog</a> </li>  <li> <a href="/hao/index.html">网址导航</a> </li>  <li> <div class="uk-navbar-item"><a class="uk-button uk-button-primary" href="/contact.html">联系我们</a></div> </li> </ul> </div> </div> <footer class="uk-section uk-text-center uk-text-muted">
    <div class="uk-container uk-container-small">
        <div>
            <ul class="uk-subnav uk-flex-center">
                <li><a class="uk-button uk-button-text" href="HTTP://www.51welink.com" target="_black">公司官网</a></li>
                <li>
                    <a class="uk-button uk-button-text" href="/process.html">售前流程</a>
                </li>
                <li><a class="uk-button uk-button-text" href="http://presalesonline.mikecrm.com/7IAj0Rv" target="_black">联系我们</a></li>
                <li><a class="uk-button uk-button-text" href="http://presalesonline.mikecrm.com/3niiZbd" target="_black">意见反馈</a></li>
                <li><a href="#" uk-totop uk-scroll></a></li>
            </ul>
            <ul class="uk-subnav uk-flex-center">
                <li><a class="uk-label uk-label-warning jo-font-fff" target="_black" href="/times/index.html">时间机器</a></li>
                <li>
                    <a class="uk-label uk-label-danger jo-font-fff" target="_black" href="/le/index.html">乐学堂</a>
                </li>
                </li>
                <li>
                    <a class="uk-label uk-label-success jo-font-fff" target="_black" href="/hao/index.html">网址导航</a>
                </li>
            </ul>
        </div>
        <div class="uk-medium uk-text-small uk-link-muted">Copyright © 2018-2020 Welink Pre-sales Team. All Rights Reserved. Proudly hosted by GitHub • Social coding</div>
    </div>
</footer>
<script src="/js/awesomplete.min.js"></script>
<script type="text/javascript">
(function() {
    'use strict';
    document.addEventListener("DOMContentLoaded", function() {
        var inputHero = document.getElementById("search-hero");
        var list = [ { label: "史上最全投标所需资质清单！值得保存", value: "/ours/1022/1098.html" }, { label: "投标保证金和履约保证金有什么区别？", value: "/ours/1022/1121.html" }, { label: "快递物流", value: "/download/1034/1167.html" }, { label: "游戏", value: "/download/1034/1166.html" }, { label: "电商", value: "/download/1034/1165.html" }, { label: "金融", value: "/download/1034/1164.html" }, { label: "一卡通", value: "/download/1034/1163.html" }, { label: "互联网医疗", value: "/download/1034/1162.html" }, { label: "政务", value: "/download/1034/1161.html" }, { label: "如何做好需求调研", value: "/ours/1025/1192.html" }, { label: "GMP医疗行业", value: "/download/1035/1195.html" }, { label: "POC测试", value: "/ours/1024/1198.html" }, { label: "销售在招投标过程中可能遇到的问题及其应对方法", value: "/ours/1022/1257.html" }, { label: "销售如何高效阅读招标文件", value: "/ours/1022/1256.html" }, { label: "售前眼中的菜鸟销售和老司机销售", value: "/ours/1024/1337.html" }, { label: "一键认证必须靠流量支撑吗？对数据流量有什么要求?", value: "/qa/17/1053.html" }, { label: "仅连接WIFI网络下可以使用一键认证吗？", value: "/qa/17/1054.html" }, { label: "双卡双待的情况下，是如何取号的？", value: "/qa/17/1055.html" }, { label: "一键认证是否可以完全替代手机验证码？", value: "/qa/17/1056.html" }, { label: "一键认证的接入方式、接入要求有什么约束？", value: "/qa/17/1057.html" }, { label: "用户授权页显示用户当前使用的手机号，会不会涉嫌侵犯用户隐私？", value: "/qa/17/1058.html" }, { label: "用户授权后通过token向运营商请求获取手机号码，token是否存在被他人利用的风险？", value: "/qa/17/1059.html" }, { label: "如何发送视频短信？", value: "/qa/18/1060.html" }, { label: "视频短信支持哪些素材类型？", value: "/qa/18/1061.html" }, { label: "视频短信可以发送什么内容，视频短信内容大小是否有限制？", value: "/qa/18/1062.html" }, { label: "如何查看视频短信发送详情，发送统计？", value: "/qa/18/1063.html" }, { label: "GMP短信平台只能发送短信消息？", value: "/qa/20/1064.html" }, { label: "GMP短信平台和UMC短信平台有根本区别在于什么地方？", value: "/qa/20/1065.html" }, { label: "使用GMP短信平台的同时是否只能使用微网的短信通道？", value: "/qa/20/1066.html" }, { label: "GMP短信平台如何保证数据安全性？", value: "/qa/20/1067.html" }, { label: "GMP短信平台的稳定短信处理能力是多少？", value: "/qa/20/1068.html" }, { label: "GMP短信平台如何保证系统的可靠性？", value: "/qa/20/1069.html" }, { label: "GMP短信平台对短信通道的管控方式有哪些？", value: "/qa/20/1070.html" }, { label: "5G消息与现有即时消息App的区别是什么？", value: "/qa/19/1071.html" }, { label: "有哪些手机支持5G消息？", value: "/qa/19/1072.html" }, { label: "5G消息只有5G手机可以用吗?", value: "/qa/19/1073.html" }, { label: "什么是Chatbot聊天机器人", value: "/qa/19/1074.html" }, { label: "5G消息和现有即时消息App的区别是什么？", value: "/qa/19/1075.html" }, { label: "国际短信特点介绍", value: "/qa/16/1076.html" }, { label: "UMC平台的并发量是多少 ", value: "/qa/13/1077.html" }, { label: "发送会员营销短信，可以追踪到短信效果吗？", value: "/qa/15/1105.html" }, { label: "验证码速度如何？", value: "/qa/14/1106.html" }, { label: "NB-IoT", value: "/qa/21/1116.html" }, { label: "出行", value: "/download/1034/1168.html" }, { label: "小程序", value: "/download/1031/1133.html" }, { label: "聚WE", value: "/download/1031/1135.html" }, { label: "报价单", value: "/download/1032/1137.html" }, { label: "LOGO素材", value: "/download/1032/1138.html" }, { label: "企宣视频", value: "/download/1032/1139.html" }, { label: "标准文档模版", value: "/download/1032/1140.html" }, { label: "什么是聚WE", value: "/qa/24/1150.html" }, { label: "广告商预算小于推广成本应当怎样应答", value: "/qa/24/1152.html" }, { label: "聚WE和普通的社会化媒体营销有何区别", value: "/qa/24/1151.html" }, { label: "智慧办公", value: "/download/1033/1158.html" }, { label: "智慧社区", value: "/download/1033/1169.html" }, { label: "智慧校园", value: "/download/1033/1172.html" }, { label: "我们的iOS应用推广包括哪些服务内容", value: "/qa/25/1203.html" }, { label: "关键词基础优化能力", value: "/qa/25/1204.html" }, { label: "好评服务如何避免“水评论”", value: "/qa/25/1205.html" }, { label: "一个投标经理的标书检查笔记", value: "/ours/1026/1243.html" }, { label: "最完整的招投标流程", value: "/ours/1026/1252.html" }, { label: "代运营服务", value: "/download/1031/1258.html" }, { label: "消息队列那些事儿", value: "/ours/1026/1266.html" }, { label: "我们提供哪些部署方式？", value: "/qa/20/1280.html" }, { label: "GMP支持负载均衡吗", value: "/qa/20/1281.html" }, { label: " GMP支持多点部署吗？", value: "/qa/20/1282.html" }, { label: "热备是指什么？", value: "/qa/20/1283.html" }, { label: " 什么是专线？", value: "/qa/20/1284.html" }, { label: "客户运行环境配置要求是什么？", value: "/qa/20/1285.html" }, { label: " GMP支持POC测试吗", value: "/qa/20/1286.html" }, { label: "GMP平台支持哪些数据库", value: "/qa/20/1287.html" }, { label: "部署过程中，客户反馈程序数量/微服务多？", value: "/qa/20/1288.html" }, { label: "GMP能售卖哪些东西？", value: "/qa/20/1289.html" }, { label: "GMP有哪些售卖形式", value: "/qa/20/1290.html" }, { label: "客户购买GMP产品后，是否还会收取年使用费用？", value: "/qa/20/1291.html" }, { label: "我们有哪些维保售后服务？", value: "/qa/20/1292.html" }, { label: " 购买GMP平台，源代码是否可以提供？", value: "/qa/20/1293.html" }, { label: "客户使用GMP平台，是否可以使用我们的服务器？", value: "/qa/20/1294.html" }, { label: "如何申请演示平台试用账号？", value: "/qa/20/1295.html" }, { label: "客户想要在其测试环境部署测试，应当如何做？", value: "/qa/20/1296.html" }, { label: "不确定客户是否GMP目标客户，应当怎么做？", value: "/qa/20/1297.html" }, { label: "对接客户时，可通过哪些需求点判断客户是否有本地化部署需求？", value: "/qa/20/1298.html" }, { label: "如何找GMP目标客户？", value: "/qa/20/1299.html" }, { label: "GMP有哪些优势特点？", value: "/qa/20/1300.html" }, { label: "客户上线了是否就代表项目结束？", value: "/qa/20/1301.html" }, { label: "客户想直连运营商，有哪些方法？", value: "/qa/20/1302.html" }, { label: "客户无资质是否就不能申请码号？", value: "/qa/20/1303.html" }, { label: "我们协助客户落地通道跟客户自己落地有什么优势呢？", value: "/qa/20/1304.html" }, { label: "客户使用我司提供的直连通道，跟我司进行短信费用结算，是否代表发送信息就走我们平台？", value: "/qa/20/1305.html" }, { label: "GMP卖点是安全性，使用我们的通道或其他通道，客户的数据如何保证安全性？", value: "/qa/20/1306.html" }, { label: "咱们UMC通道有哪些安全性特点？", value: "/qa/20/1307.html" }, { label: "GMP支持通道切换吗？", value: "/qa/20/1308.html" }, { label: "GMP重发逻辑是什么？", value: "/qa/20/1309.html" }, { label: "我们有哪些监控功能？", value: "/qa/20/1310.html" }, { label: "支持携号转网吗？", value: "/qa/20/1311.html" }, { label: "支持对账号限量吗？", value: "/qa/20/1312.html" }, { label: "GMP支持哪些信息发送类型？", value: "/qa/20/1313.html" }, { label: " 支持白名单、黑名单吗？", value: "/qa/20/1314.html" }, { label: "技术交流宣讲PPT如何深入人心", value: "/ours/1025/1329.html" }, { label: "银行同城双活技术解析", value: "/ours/1025/1333.html" }, { label: "下载 企业资料 产品资料 解决方案 文档模版 等", value: "/download.html" }];
        if (inputHero) {
            inputHero.addEventListener("awesomplete-selectcomplete", function(e) { window.location.href = e.text.value; }, false);
            new Awesomplete(inputHero, { autoFirst: true, list: list, replace: function(suggestion) { this.input.value = suggestion.label; } });
        }
    });
}());
</script> </body> </html>
<script type="text/javascript" language="javascript">document.ondblclick=function(x){location.href = '/api/sys/stl/actions/trigger?siteId=1&channelId=1026&contentId=1266&fileTemplateId=0&isRedirect=True&returnUrl=' + encodeURIComponent(location.search);}</script>
